<div class="card mb-4">
  <div class="card-body">
    <div class="row">
      <div class="col-lg-4">
        <h5>Monitoreo de dispositivos</h5>
      </div>
      <div class="col-lg-8">
        <div class="scrollable-list">
          <ul class="list-group list-group-horizontal">
            <!-- Ejemplo de ítems de lista -->
            <li class="list-group-item">Dispositivo 1</li>
            <li class="list-group-item">Dispositivo 2</li>
            <li class="list-group-item">Dispositivo 3</li>
            <li class="list-group-item">Dispositivo 1</li>
            <li class="list-group-item">Dispositivo 2</li>
            <!-- Puedes usar *ngFor para generar dinámicamente según tus datos -->
          </ul>
        </div>
      </div>
      <hr>
    </div>    
    <div class="row">
      <div class="col-lg-9">
        <section class="google-map">
          <app-ubicaciones style="width: 100%; height: 400px"></app-ubicaciones>
        </section>
      </div>
      <div class="col-lg-3">
        <section class="right-section text-right"> <!-- Alineación a la derecha -->
          <div class="mb-4">
            <h5>Dispositivos</h5>
            <hr>
            <div class="scrollable-card">
              <ul class="list-group list-group-flush custom-list-group">
                <li
                  class="list-group-item"
                  *ngFor="let estado of estados"
                  (click)="ubicarDispositivo(estado.dispositivo)"
                  (mouseenter)="hoverEffect($event, estado)"
                  (mouseleave)="hoverEffect($event, null)"
                  [ngClass]="{ selected: estado === selectedEstado }"
                  style="max-width: 90%; overflow: hidden; text-overflow: ellipsis;"
                >
                  {{ estado.dispositivo?.nombre }}
                </li>
              </ul>
            </div>
          </div>
        
          <div class="mt-4">
            <h5>Resumen</h5>
            <hr>
            
            <div class="stats-card">
              <div class="card-body">
                <div class="stat">
                  <span class="label">Dispositivos</span>
                  <span class="value">{{ estados.length }}</span>
                </div>
                <div class="stat">
                  <span class="label">No asd a asd a asd a asd  asd:</span>
                  <span class="value">{{ 1 }}</span>
                </div>
              </div>
            </div>
          </div>
        </section>
        
      </div>
    </div>
  </div>
</div>

<div class="card">
  <div class="card-body">
    <h4>Detalles de dispositivos</h4>
    <hr>
    <div class="table-responsive">
      <table class="table table-bordered table-striped">
        <thead>
          <tr>
            <th>Marca/Modelo</th>
            <th>Categoría</th>
            <th>Nombre</th>
            <th>Número de Serie</th>
            <th>Estado</th>
            <th>Nivel de Batería</th>
            <th>Cargando</th>
            <th>GPS</th>
            <th>Estado del Teléfono</th>
            <th>Notificaciones</th>
            <th>Localización</th>
            <th>Conexión a Internet</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let estado of estados">
            <td>
              {{ estado.dispositivo?.modelo?.marca?.nombre }} -
              {{ estado.dispositivo?.modelo?.nombre }}
            </td>
            <td>{{ estado.dispositivo?.categoria?.nombre }}</td>
            <td>{{ estado.dispositivo?.nombre }}</td>
            <td>{{ estado.dispositivo?.numSerie }}</td>
            <td
              [style.color]="estado.dispositivo?.disponible ? 'green' : 'red'"
              [style.font-weight]="
                estado.dispositivo?.disponible ? 'bold' : 'normal'
              "
            >
              {{ estado.dispositivo?.disponible ? "Disponible" : "Prestado" }}
            </td>
            <td>{{ estado.nivelBateria }}</td>
            <td>{{ estado.cargando ? "Sí" : "No" }}</td>
            <td>{{ estado.gps ? "Sí" : "No" }}</td>
            <td>{{ estado.phoneState ? "Activo" : "Inactivo" }}</td>
            <td>{{ estado.notificaciones ? "Activas" : "Inactivas" }}</td>
            <td>{{ estado.localizacion ? "Activada" : "Desactivada" }}</td>
            <td>
              {{ estado.conexionInternet ? "Conectado" : "Desconectado" }}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="d-flex justify-content-center mt-3">
      <pagination-controls
        class="fontable"
        (pageChange)="p = $event"
      ></pagination-controls>
    </div>
  </div>
</div>
